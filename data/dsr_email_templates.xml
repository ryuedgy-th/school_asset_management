<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <!--
            PDPA Data Subject Request (DSR) Email Templates
            ================================================
            Templates for notifying users about their data request status

            Brand Colors:
            - Purple: #574193
            - Green: #6ab42d
        -->

        <!-- Common Email Header Style -->
        <template id="dsr_email_header" name="DSR Email Header">
            <div style="font-family: Arial, Helvetica, sans-serif; max-width: 600px; margin: 0 auto; background: #ffffff;">
                <!-- Header -->
                <div style="background: linear-gradient(135deg, #574193 0%, #6ab42d 100%); padding: 30px 20px; text-align: center;">
                    <h1 style="color: #ffffff; margin: 0; font-size: 24px; font-weight: bold;">
                        Magic Years International School
                    </h1>
                    <p style="color: #ffffff; margin: 10px 0 0 0; font-size: 14px; opacity: 0.9;">
                        Data Protection &amp; Privacy
                    </p>
                </div>
            </div>
        </template>

        <!-- Common Email Footer -->
        <template id="dsr_email_footer" name="DSR Email Footer">
            <div style="background: #f5f5f5; padding: 20px; text-align: center; border-top: 3px solid #574193;">
                <p style="margin: 0 0 10px 0; font-size: 14px; color: #666;">
                    <strong>‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤ / Contact Us</strong>
                </p>
                <p style="margin: 0 0 5px 0; font-size: 13px; color: #666;">
                    Email: <a href="mailto:it@magicyears.ac.th" style="color: #574193;">it@magicyears.ac.th</a>
                </p>
                <p style="margin: 0 0 5px 0; font-size: 13px; color: #666;">
                    ‡πÇ‡∏ó‡∏£ / Tel: 02-123-4567
                </p>
                <p style="margin: 15px 0 0 0; font-size: 11px; color: #999;">
                    ¬© ${datetime.datetime.now().year} Magic Years International School. All rights reserved.
                </p>
                <p style="margin: 5px 0 0 0; font-size: 11px; color: #999;">
                    This email contains confidential information. Please do not forward.
                </p>
            </div>
        </template>

        <!-- 1. DSR Received Email -->
        <record id="email_dsr_received" model="mail.template">
            <field name="name">DSR: Request Received</field>
            <field name="model_id" ref="model_asset_data_request"/>
            <field name="subject">[MYIS] ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏≤‡∏° PDPA - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or 'it@magicyears.ac.th')|safe}</field>
            <field name="email_to">${object.requester_email}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, Helvetica, sans-serif; max-width: 600px; margin: 0 auto; background: #ffffff;">
    <!-- Header -->
    ${object.env['ir.ui.view']._render_template('school_asset_management.dsr_email_header', {})}

    <!-- Body -->
    <div style="padding: 30px 20px;">
        <h2 style="color: #574193; margin: 0 0 20px 0; font-size: 20px;">
            ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏Ñ‡∏∏‡∏ì${object.requester_name}
        </h2>

        <p style="color: #333; line-height: 1.6; margin: 0 0 15px 0;">
            ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡∏ï‡∏≤‡∏° ‡∏û.‡∏£.‡∏ö. ‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• ‡∏û.‡∏®. 2562 (PDPA) ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
        </p>

        <!-- Request Details -->
        <div style="background: #f9f9f9; border-left: 4px solid #6ab42d; padding: 15px; margin: 20px 0;">
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${object.name}
            </p>
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${dict(object._fields['request_type'].selection).get(object.request_type, 'N/A')}
            </p>
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${format_datetime(object.create_date, tz='Asia/Bangkok', dt_format='dd/MM/yyyy HH:mm')}
            </p>
            <p style="margin: 0; color: #333;">
                <strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong> <span style="color: #6ab42d; font-weight: bold;">‡∏£‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô</span>
            </p>
        </div>

        <h3 style="color: #574193; margin: 20px 0 10px 0; font-size: 16px;">
            ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
        </h3>

        <ul style="color: #333; line-height: 1.8; margin: 0 0 20px 20px;">
            <li>‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô <strong>3 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£</strong></li>
            <li>‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô</li>
            <li>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏°: <strong>‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 30 ‡∏ß‡∏±‡∏ô</strong></li>
        </ul>

        <div style="background: #fff4e6; border: 1px solid #ffa726; border-radius: 4px; padding: 15px; margin: 20px 0;">
            <p style="margin: 0; color: #333; font-size: 13px;">
                <strong>‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong> ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô (‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á)
                ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£
            </p>
        </div>

        <p style="color: #333; line-height: 1.6; margin: 20px 0 0 0;">
            ‡∏´‡∏≤‡∏Å‡∏ó‡πà‡∏≤‡∏ô‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
        </p>
    </div>

    <!-- Footer -->
    ${object.env['ir.ui.view']._render_template('school_asset_management.dsr_email_footer', {})}
</div>
            </field>
        </record>

        <!-- 2. DSR Identity Verified Email -->
        <record id="email_dsr_identity_verified" model="mail.template">
            <field name="name">DSR: Identity Verified</field>
            <field name="model_id" ref="model_asset_data_request"/>
            <field name="subject">[MYIS] ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or 'it@magicyears.ac.th')|safe}</field>
            <field name="email_to">${object.requester_email}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, Helvetica, sans-serif; max-width: 600px; margin: 0 auto; background: #ffffff;">
    ${object.env['ir.ui.view']._render_template('school_asset_management.dsr_email_header', {})}

    <div style="padding: 30px 20px;">
        <h2 style="color: #574193; margin: 0 0 20px 0; font-size: 20px;">
            ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏Ñ‡∏∏‡∏ì${object.requester_name}
        </h2>

        <div style="background: #e8f5e9; border-left: 4px solid #6ab42d; padding: 15px; margin: 0 0 20px 0;">
            <p style="margin: 0; color: #2e7d32; font-weight: bold;">
                ‚úì ‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏•‡πâ‡∏ß
            </p>
        </div>

        <p style="color: #333; line-height: 1.6; margin: 0 0 15px 0;">
            ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πà‡∏ß‡∏°‡∏°‡∏∑‡∏≠‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ö‡∏±‡∏î‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ
        </p>

        <div style="background: #f9f9f9; padding: 15px; margin: 20px 0; border-radius: 4px;">
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${object.name}
            </p>
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${dict(object._fields['request_type'].selection).get(object.request_type, 'N/A')}
            </p>
            % if object.deadline_date:
            <p style="margin: 0; color: #333;">
                <strong>‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô:</strong> <span style="color: #6ab42d;">${format_datetime(object.deadline_date, tz='Asia/Bangkok', dt_format='dd/MM/yyyy')}</span>
            </p>
            % endif
        </div>

        <h3 style="color: #574193; margin: 20px 0 10px 0; font-size: 16px;">
            ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ
        </h3>

        <ul style="color: #333; line-height: 1.8; margin: 0 0 20px 20px;">
            <li>‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ô‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠</li>
            <li>‡∏ó‡πà‡∏≤‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤</li>
            <li>‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤</li>
        </ul>

        <p style="color: #333; line-height: 1.6; margin: 20px 0 0 0;">
            ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡πâ‡∏ß‡∏≤‡∏á‡πÉ‡∏à
        </p>
    </div>

    ${object.env['ir.ui.view']._render_template('school_asset_management.dsr_email_footer', {})}
</div>
            </field>
        </record>

        <!-- 3. DSR In Progress Email -->
        <record id="email_dsr_in_progress" model="mail.template">
            <field name="name">DSR: In Progress</field>
            <field name="model_id" ref="model_asset_data_request"/>
            <field name="subject">[MYIS] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠ - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or 'it@magicyears.ac.th')|safe}</field>
            <field name="email_to">${object.requester_email}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, Helvetica, sans-serif; max-width: 600px; margin: 0 auto; background: #ffffff;">
    ${object.env['ir.ui.view']._render_template('school_asset_management.dsr_email_header', {})}

    <div style="padding: 30px 20px;">
        <h2 style="color: #574193; margin: 0 0 20px 0; font-size: 20px;">
            ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏Ñ‡∏∏‡∏ì${object.requester_name}
        </h2>

        <div style="background: #fff3e0; border-left: 4px solid #ffa726; padding: 15px; margin: 0 0 20px 0;">
            <p style="margin: 0; color: #f57c00; font-weight: bold;">
                üîÑ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô
            </p>
        </div>

        <p style="color: #333; line-height: 1.6; margin: 0 0 15px 0;">
            ‡πÄ‡∏£‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà <strong>${object.name}</strong> ‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô
            ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤
        </p>

        <div style="background: #f9f9f9; padding: 15px; margin: 20px 0; border-radius: 4px;">
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${dict(object._fields['request_type'].selection).get(object.request_type, 'N/A')}
            </p>
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong> <span style="color: #ffa726; font-weight: bold;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</span>
            </p>
            % if object.deadline_date:
            <p style="margin: 0; color: #333;">
                <strong>‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏™‡∏£‡πá‡∏à:</strong> ${format_datetime(object.deadline_date, tz='Asia/Bangkok', dt_format='dd/MM/yyyy')}
            </p>
            % endif
        </div>

        <h3 style="color: #574193; margin: 20px 0 10px 0; font-size: 16px;">
            ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°
        </h3>

        <p style="color: #333; line-height: 1.6; margin: 0 0 15px 0;">
            ‡∏´‡∏≤‡∏Å‡∏ó‡πà‡∏≤‡∏ô‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà:
        </p>

        <ul style="color: #333; line-height: 1.8; margin: 0 0 20px 20px;">
            <li>Email: <a href="mailto:it@magicyears.ac.th" style="color: #574193;">it@magicyears.ac.th</a></li>
            <li>‡πÇ‡∏ó‡∏£: 02-123-4567</li>
            <li>‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏≥‡∏Ç‡∏≠: <strong>${object.name}</strong></li>
        </ul>

        <p style="color: #333; line-height: 1.6; margin: 20px 0 0 0;">
            ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏î‡∏ó‡∏ô‡∏£‡∏≠‡∏Ñ‡∏≠‡∏¢
        </p>
    </div>

    ${object.env['ir.ui.view']._render_template('school_asset_management.dsr_email_footer', {})}
</div>
            </field>
        </record>

        <!-- 4. DSR Completed Email -->
        <record id="email_dsr_completed" model="mail.template">
            <field name="name">DSR: Completed</field>
            <field name="model_id" ref="model_asset_data_request"/>
            <field name="subject">[MYIS] ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or 'it@magicyears.ac.th')|safe}</field>
            <field name="email_to">${object.requester_email}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, Helvetica, sans-serif; max-width: 600px; margin: 0 auto; background: #ffffff;">
    ${object.env['ir.ui.view']._render_template('school_asset_management.dsr_email_header', {})}

    <div style="padding: 30px 20px;">
        <h2 style="color: #574193; margin: 0 0 20px 0; font-size: 20px;">
            ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏Ñ‡∏∏‡∏ì${object.requester_name}
        </h2>

        <div style="background: #e8f5e9; border-left: 4px solid #6ab42d; padding: 15px; margin: 0 0 20px 0;">
            <p style="margin: 0; color: #2e7d32; font-weight: bold; font-size: 16px;">
                ‚úì ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß
            </p>
        </div>

        <p style="color: #333; line-height: 1.6; margin: 0 0 15px 0;">
            ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà <strong>${object.name}</strong> ‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
        </p>

        <div style="background: #f9f9f9; padding: 15px; margin: 20px 0; border-radius: 4px;">
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${dict(object._fields['request_type'].selection).get(object.request_type, 'N/A')}
            </p>
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô:</strong> ${format_datetime(object.completion_date or object.write_date, tz='Asia/Bangkok', dt_format='dd/MM/yyyy HH:mm')}
            </p>
            % if object.completion_notes:
            <p style="margin: 0; color: #333;">
                <strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong> ${object.completion_notes}
            </p>
            % endif
        </div>

        <h3 style="color: #574193; margin: 20px 0 10px 0; font-size: 16px;">
            ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£
        </h3>

        <p style="color: #333; line-height: 1.6; margin: 0 0 15px 0;">
            % if object.request_type == 'access':
            ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß
            % elif object.request_type == 'rectification':
            ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
            % elif object.request_type == 'erasure':
            ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
            % elif object.request_type == 'restriction':
            ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
            % elif object.request_type == 'portability':
            ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏î‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
            % elif object.request_type == 'objection':
            ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏±‡∏î‡∏Ñ‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
            % else:
            ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
            % endif
        </p>

        <div style="background: #e3f2fd; border: 1px solid #2196f3; border-radius: 4px; padding: 15px; margin: 20px 0;">
            <p style="margin: 0 0 10px 0; color: #333; font-weight: bold;">
                ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô
            </p>
            <p style="margin: 0; color: #333; font-size: 13px; line-height: 1.6;">
                ‡∏´‡∏≤‡∏Å‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ ‡∏ó‡πà‡∏≤‡∏ô‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏¢‡∏∑‡πà‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡πà‡∏≠
                <strong>‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (‡∏™‡∏Ñ‡∏™.)</strong>
                ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 90 ‡∏ß‡∏±‡∏ô ‡∏ô‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ô‡∏ó‡∏£‡∏≤‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏£‡∏ó‡∏£‡∏≤‡∏ö‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
            </p>
        </div>

        <p style="color: #333; line-height: 1.6; margin: 20px 0 0 0;">
            ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡πâ‡∏ß‡∏≤‡∏á‡πÉ‡∏à Magic Years International School
        </p>
    </div>

    ${object.env['ir.ui.view']._render_template('school_asset_management.dsr_email_footer', {})}
</div>
            </field>
        </record>

        <!-- 5. DSR Rejected Email -->
        <record id="email_dsr_rejected" model="mail.template">
            <field name="name">DSR: Rejected</field>
            <field name="model_id" ref="model_asset_data_request"/>
            <field name="subject">[MYIS] ‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏Ñ‡∏≥‡∏Ç‡∏≠ - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or 'it@magicyears.ac.th')|safe}</field>
            <field name="email_to">${object.requester_email}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, Helvetica, sans-serif; max-width: 600px; margin: 0 auto; background: #ffffff;">
    ${object.env['ir.ui.view']._render_template('school_asset_management.dsr_email_header', {})}

    <div style="padding: 30px 20px;">
        <h2 style="color: #574193; margin: 0 0 20px 0; font-size: 20px;">
            ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏Ñ‡∏∏‡∏ì${object.requester_name}
        </h2>

        <div style="background: #ffebee; border-left: 4px solid #f44336; padding: 15px; margin: 0 0 20px 0;">
            <p style="margin: 0; color: #c62828; font-weight: bold;">
                ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏Ñ‡∏≥‡∏Ç‡∏≠
            </p>
        </div>

        <p style="color: #333; line-height: 1.6; margin: 0 0 15px 0;">
            ‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏¥‡πà‡∏á ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà <strong>${object.name}</strong> ‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ
        </p>

        <div style="background: #f9f9f9; padding: 15px; margin: 20px 0; border-radius: 4px;">
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${dict(object._fields['request_type'].selection).get(object.request_type, 'N/A')}
            </p>
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤:</strong> ${format_datetime(object.write_date, tz='Asia/Bangkok', dt_format='dd/MM/yyyy')}
            </p>
            % if object.rejection_reason:
            <p style="margin: 0; color: #333;">
                <strong>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò:</strong><br/>
                ${object.rejection_reason}
            </p>
            % endif
        </div>

        <h3 style="color: #574193; margin: 20px 0 10px 0; font-size: 16px;">
            ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò
        </h3>

        <p style="color: #333; line-height: 1.6; margin: 0 0 15px 0;">
            % if object.rejection_reason:
            ${object.rejection_reason}
            % else:
            ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏≠‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ
            % endif
        </p>

        <div style="background: #fff3e0; border: 1px solid #ffa726; border-radius: 4px; padding: 15px; margin: 20px 0;">
            <p style="margin: 0 0 10px 0; color: #333; font-weight: bold;">
                ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏ó‡∏ò‡∏£‡∏ì‡πå
            </p>
            <p style="margin: 0; color: #333; font-size: 13px; line-height: 1.6;">
                ‡∏´‡∏≤‡∏Å‡∏ó‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ô‡∏µ‡πâ ‡∏ó‡πà‡∏≤‡∏ô‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå:
            </p>
            <ul style="margin: 10px 0 0 20px; color: #333; font-size: 13px; line-height: 1.6;">
                <li>‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</li>
                <li>‡∏¢‡∏∑‡πà‡∏ô‡∏≠‡∏∏‡∏ó‡∏ò‡∏£‡∏ì‡πå‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 30 ‡∏ß‡∏±‡∏ô</li>
                <li>‡∏¢‡∏∑‡πà‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡πà‡∏≠ ‡∏™‡∏Ñ‡∏™.</li>
            </ul>
        </div>

        <h3 style="color: #574193; margin: 20px 0 10px 0; font-size: 16px;">
            ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
        </h3>

        <div style="background: #f5f5f5; padding: 15px; border-radius: 4px;">
            <p style="margin: 0 0 10px 0; color: #333; font-size: 13px; font-weight: bold;">
                ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (‡∏™‡∏Ñ‡∏™.)
            </p>
            <p style="margin: 0 0 5px 0; color: #333; font-size: 13px;">
                ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå: <a href="https://www.pdpc.or.th" style="color: #574193;">www.pdpc.or.th</a>
            </p>
            <p style="margin: 0; color: #333; font-size: 13px;">
                ‡πÇ‡∏ó‡∏£: 02-141-6767
            </p>
        </div>

        <p style="color: #333; line-height: 1.6; margin: 20px 0 0 0;">
            ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
        </p>
    </div>

    ${object.env['ir.ui.view']._render_template('school_asset_management.dsr_email_footer', {})}
</div>
            </field>
        </record>

        <!-- 6. DSR Deadline Warning Email (Internal) -->
        <record id="email_dsr_deadline_warning" model="mail.template">
            <field name="name">DSR: Deadline Warning (Internal)</field>
            <field name="model_id" ref="model_asset_data_request"/>
            <field name="subject">[MYIS INTERNAL] ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: ‡∏Ñ‡∏≥‡∏Ç‡∏≠ DSR ‡πÉ‡∏Å‡∏•‡πâ‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or 'it@magicyears.ac.th')|safe}</field>
            <field name="email_to">${user.email}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, Helvetica, sans-serif; max-width: 600px; margin: 0 auto; background: #ffffff;">
    <!-- Header -->
    <div style="background: #f44336; padding: 20px; text-align: center;">
        <h1 style="color: #ffffff; margin: 0; font-size: 22px;">
            ‚ö†Ô∏è DSR Deadline Warning
        </h1>
        <p style="color: #ffffff; margin: 10px 0 0 0; font-size: 14px;">
            Internal Notification - Staff Only
        </p>
    </div>

    <div style="padding: 30px 20px;">
        <div style="background: #fff3e0; border-left: 4px solid #ffa726; padding: 15px; margin: 0 0 20px 0;">
            <p style="margin: 0; color: #f57c00; font-weight: bold;">
                ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ô‡∏µ‡πâ‡πÉ‡∏Å‡∏•‡πâ‡∏à‡∏∞‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î 30 ‡∏ß‡∏±‡∏ô - ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏î‡∏¢‡∏î‡πà‡∏ß‡∏ô!
            </p>
        </div>

        <h2 style="color: #574193; margin: 0 0 15px 0; font-size: 18px;">
            ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏≥‡∏Ç‡∏≠
        </h2>

        <div style="background: #f9f9f9; padding: 15px; margin: 0 0 20px 0; border-radius: 4px;">
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${object.name}
            </p>
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠:</strong> ${object.requester_name}
            </p>
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏≠‡∏µ‡πÄ‡∏°‡∏•:</strong> ${object.requester_email}
            </p>
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${dict(object._fields['request_type'].selection).get(object.request_type, 'N/A')}
            </p>
            <p style="margin: 0 0 10px 0; color: #333;">
                <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠:</strong> ${format_datetime(object.create_date, tz='Asia/Bangkok', dt_format='dd/MM/yyyy HH:mm')}
            </p>
            % if object.deadline_date:
            <p style="margin: 0; color: #333;">
                <strong style="color: #f44336;">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î:</strong>
                <span style="color: #f44336; font-weight: bold;">${format_datetime(object.deadline_date, tz='Asia/Bangkok', dt_format='dd/MM/yyyy')}</span>
            </p>
            % endif
        </div>

        <div style="background: #ffebee; border: 1px solid #f44336; border-radius: 4px; padding: 15px; margin: 20px 0;">
            <p style="margin: 0 0 10px 0; color: #c62828; font-weight: bold;">
                ‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠
            </p>
            <p style="margin: 0; color: #333; font-size: 14px;">
                % if object.deadline_date:
                ${(object.deadline_date - datetime.datetime.now()).days} ‡∏ß‡∏±‡∏ô
                % else:
                ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏ deadline
                % endif
            </p>
        </div>

        <div style="text-align: center; margin: 30px 0;">
            <a href="${object.get_base_url()}/web#id=${object.id}&amp;model=asset.data.request&amp;view_type=form"
               style="display: inline-block; background: #574193; color: #ffffff; padding: 12px 30px; text-decoration: none; border-radius: 4px; font-weight: bold;">
                ‡πÄ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ô‡∏µ‡πâ‡πÉ‡∏ô Odoo
            </a>
        </div>

        <p style="color: #999; font-size: 12px; margin: 20px 0 0 0; text-align: center;">
            This is an automated notification. Please do not reply to this email.
        </p>
    </div>

    <div style="background: #f5f5f5; padding: 15px; text-align: center; border-top: 3px solid #f44336;">
        <p style="margin: 0; font-size: 12px; color: #666;">
            ¬© ${datetime.datetime.now().year} Magic Years International School - Internal Use Only
        </p>
    </div>
</div>
            </field>
        </record>

    </data>
</odoo>
